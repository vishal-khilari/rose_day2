<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rose Day</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Georgia", serif;
        overflow: hidden;
        height: 100vh;
        background: linear-gradient(
          135deg,
          #ffeef8 0%,
          #ffe0f0 50%,
          #ffd5e8 100%
        );
        cursor: pointer;
        position: relative;
      }

      .background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          #ffeef8 0%,
          #ffe0f0 50%,
          #ffd5e8 100%
        );
        transition: filter 1.5s ease;
        z-index: 1;
      }

      .background.blurred {
        filter: blur(8px);
      }

      .initial-text {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2.5rem;
        color: #c41e3a;
        text-align: center;
        z-index: 10;
        opacity: 1;
        transition: opacity 1s ease;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        font-weight: 300;
        letter-spacing: 2px;
      }

      .initial-text.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .rose-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 5;
      }

      .rose {
        position: absolute;
        font-size: 40px;
        opacity: 0;
        animation: fall linear forwards;
      }

      @keyframes fall {
        0% {
          opacity: 0;
          transform: translateY(-100px) rotate(0deg);
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 0.8;
        }
        100% {
          opacity: 0;
          transform: translateY(100vh) rotate(360deg);
        }
      }

      .heart {
        position: absolute;
        font-size: 24px;
        opacity: 0;
        animation: floatHeart linear forwards;
      }

      @keyframes floatHeart {
        0% {
          opacity: 0;
          transform: translateY(0) scale(0.5);
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 0.6;
        }
        100% {
          opacity: 0;
          transform: translateY(-100vh) scale(1.2);
        }
      }

      .petal {
        position: absolute;
        width: 8px;
        height: 8px;
        background: radial-gradient(
          ellipse at center,
          #ff6b9d 0%,
          #ff1744 100%
        );
        border-radius: 50% 0 50% 0;
        opacity: 0;
        animation: floatPetal linear forwards;
      }

      @keyframes floatPetal {
        0% {
          opacity: 0;
          transform: translateY(-50px) rotate(0deg);
        }
        10% {
          opacity: 0.8;
        }
        90% {
          opacity: 0.4;
        }
        100% {
          opacity: 0;
          transform: translateY(100vh) rotate(720deg);
        }
      }

      .message-container {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 15;
        opacity: 0;
        transition: opacity 2s ease;
        text-align: center;
        max-width: 100%;
        width: 100%;
        padding: 0;
      }

      .message-container.visible {
        opacity: 1;
      }

      .romantic-message {
        font-family: "Great Vibes", cursive;
        font-size: 3.5rem;
        color: #8b0000;
        line-height: 1.8;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.15);
        font-weight: 700;
      }

      .romantic-message > div {
        white-space: nowrap; /* Keep each line together */
      }

      .romantic-message span {
        opacity: 0;
        display: inline-block;
        animation: fadeInLetter 0.3s forwards;
        white-space: pre; /* Preserve spacing */
      }

      .romantic-message span.emoji {
        font-family:
          "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
      }

      .rose-emoji {
        font-family:
          "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
        font-size: 3.5rem;
        display: block;
        margin-top: 20px;
        opacity: 0;
        animation:
          fadeIn 1s 3s forwards,
          glow 2s ease-in-out infinite alternate;
        filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.6))
          drop-shadow(0 0 20px rgba(255, 0, 0, 0.4));
      }

      @keyframes glow {
        from {
          filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.6))
            drop-shadow(0 0 20px rgba(255, 0, 0, 0.4));
        }
        to {
          filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.8))
            drop-shadow(0 0 40px rgba(255, 0, 0, 0.6));
        }
      }

      @keyframes fadeInLetter {
        to {
          opacity: 1;
        }
      }

      .subtitle {
        font-family: "Georgia", serif;
        font-size: 1.4rem;
        color: #c41e3a;
        margin-top: 30px;
        opacity: 0;
        font-style: italic;
        animation: fadeIn 1s 2s forwards;
      }

      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }

      .vignette {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.15);
        pointer-events: none;
        z-index: 20;
      }

      @media (max-width: 768px) {
        .initial-text {
          font-size: 1.5rem;
          padding: 0 5px;
        }

        .romantic-message {
          font-size: 3.2rem;
          line-height: 1.5;
        }

        .romantic-message > div {
          white-space: nowrap; /* Prevent word breaking */
        }

        .rose-emoji {
          font-size: 3.5rem;
          margin-top: 25px;
          margin-bottom: 25px;
        }

        .subtitle {
          font-size: 1.4rem;
        }

        .message-container {
          padding: 0;
          max-width: 100%;
          width: 100%;
        }
      }

      @media (max-width: 480px) {
        .initial-text {
          font-size: 1.3rem;
          padding: 0 3px;
        }

        .romantic-message {
          font-size: 2.8rem;
        }

        .rose-emoji {
          font-size: 3rem;
          margin-top: 20px;
          margin-bottom: 20px;
        }

        .subtitle {
          font-size: 1.3rem;
        }

        .message-container {
          padding: 0;
          max-width: 100%;
          width: 100%;
        }
      }

      @media (max-width: 400px) {
        .romantic-message {
          font-size: 2.5rem;
        }

        .message-container {
          padding: 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="background"></div>
    <div class="vignette"></div>

    <div class="initial-text" id="initialText">
      Smth for you &lt;3<br />
      <span style="font-size: 0.8rem; opacity: 0.7; letter-spacing: 1px"
        >Click</span
      >
    </div>

    <div class="rose-container" id="roseContainer"></div>

    <div class="message-container" id="messageContainer">
      <div class="romantic-message" id="romanticMessage"></div>
      <div class="rose-emoji">üåπ</div>
      <div class="subtitle">Happy Rose Day ‚ù§Ô∏è</div>
    </div>

    <script>
      let clicked = false;
      const message = "Guldaste ko phool dene aaya hun,<br>Dumb matt samajna";

      // Ensure proper word spacing
      const messageLines = message.split("<br>");

      document.body.addEventListener("click", function () {
        if (clicked) return;
        clicked = true;

        document.getElementById("initialText").classList.add("hidden");
        document.querySelector(".background").classList.add("blurred");

        setTimeout(() => {
          createFallingRoses();
          createFloatingHearts();
          createFloatingPetals();
        }, 500);

        setTimeout(() => {
          showMessage();
        }, 2000);
      });

      function createFallingRoses() {
        const container = document.getElementById("roseContainer");
        const roses = ["üåπ", "ü•Ä"];

        setInterval(() => {
          const rose = document.createElement("div");
          rose.className = "rose";
          rose.textContent = roses[Math.floor(Math.random() * roses.length)];
          rose.style.left = Math.random() * 100 + "%";
          rose.style.animationDuration = 8 + Math.random() * 4 + "s";
          rose.style.animationDelay = Math.random() * 2 + "s";
          container.appendChild(rose);

          setTimeout(() => {
            rose.remove();
          }, 15000);
        }, 300);
      }

      function createFloatingHearts() {
        const container = document.getElementById("roseContainer");
        const hearts = ["‚ù§Ô∏è", "üíï", "üíñ", "üíó"];

        setInterval(() => {
          const heart = document.createElement("div");
          heart.className = "heart";
          heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
          heart.style.left = Math.random() * 100 + "%";
          heart.style.bottom = "-50px";
          heart.style.animationDuration = 10 + Math.random() * 5 + "s";
          heart.style.animationDelay = Math.random() * 3 + "s";
          container.appendChild(heart);

          setTimeout(() => {
            heart.remove();
          }, 18000);
        }, 800);
      }

      function createFloatingPetals() {
        const container = document.getElementById("roseContainer");

        setInterval(() => {
          const petal = document.createElement("div");
          petal.className = "petal";
          petal.style.left = Math.random() * 100 + "%";
          petal.style.animationDuration = 6 + Math.random() * 4 + "s";
          petal.style.animationDelay = Math.random() * 2 + "s";
          container.appendChild(petal);

          setTimeout(() => {
            petal.remove();
          }, 12000);
        }, 400);
      }

      function showMessage() {
        const messageContainer = document.getElementById("messageContainer");
        const messageElement = document.getElementById("romanticMessage");

        messageContainer.classList.add("visible");

        let charIndex = 0;
        const lines = messageLines;

        // Emoji regex to detect emoji characters
        const emojiRegex =
          /[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/u;

        lines.forEach((line, lineIndex) => {
          const lineSpan = document.createElement("div");

          // Create a temporary element to decode HTML entities
          const temp = document.createElement("div");
          temp.innerHTML = line;
          const decodedLine = temp.textContent;

          decodedLine.split("").forEach((char, index) => {
            const span = document.createElement("span");
            span.textContent = char;
            span.style.animationDelay = charIndex * 0.05 + "s";

            // Add emoji class if character is an emoji
            if (emojiRegex.test(char)) {
              span.classList.add("emoji");
            }

            lineSpan.appendChild(span);
            charIndex++;
          });

          messageElement.appendChild(lineSpan);
        });
      }
    </script>
  </body>
</html>
